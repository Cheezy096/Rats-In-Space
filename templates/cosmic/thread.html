{% extends "cosmic/base.html" %}

{% block content %}

    <h3><a href="/">Board List</a> >> <a href="/b/{{board[2]}}">{{board[0]}}</a> >> {{thread[0]}}</h3>

    <br>
    <form action="/b/{{board[2]}}/{{thread[1]}}/post" method="POST" style="width: 60%; margin-left: 20%; text-align: center; background-color: #999999; border-style: solid; border-color: black; border-width: 1px;">
        <h3>Leave a comment!</h3>

        <textarea cols=" id="body" name="thread_content" rows="5" style="width: 80%;"></textarea>
        <br>
        <br>
        <input id="generalButton" type="submit" value="Post comment"/>
        {% if threadPostFailed %}
                <p style="color: rgb(109, 0, 0); font-size: 15px;">{{threadPostFailed}}</p>
        {% else %}
            <br>
            <br>
        {% endif %}

    </form>
    <br>
    <br>

    {% set count = namespace(value=0) %}
	{% for x in post %}
        {% if x[2] == board[2] %}
            <table style="width:100%; table-layout: fixed;">
                <a name="{{x[1]}}"></a>
                <tr>
                {% if flashCommentHeader == x[1] %}
                    <th style="font-weight:normal; background-color: rgb(0, 0, 190) !important; color: white !important;"><b>User:</b> Anon <a href="/p/{{x[1]}}" style="color: aqua;">({{x[1]}})</a><br><b>Date:</b> {{x[4]}}</th>
                {% else %}
                    <th style="font-weight:normal;"><b>User:</b> Anon <a href="/p/{{x[1]}}">({{x[1]}})</a><br><b>Date:</b> {{x[4]}}</th>
                {% endif %} 
                
                </tr>

                <tr>
                    <td style="word-wrap: break-word;">{{x[0]}}</td>
                </tr>
            </table>
            <br>
            {% set count.value = count.value + 1 %}

        {% endif %}        

    {% endfor %}


    {% if count.value == 0 %}

        <tr>
            <td colspan="3"><strong>No comments available.</strong></td>
        </tr>
    {% endif %}


{% endblock %}